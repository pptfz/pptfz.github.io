<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-äº‘åŸç”Ÿ/k8s/k8sçŸ¥è¯†ç‚¹/é…ç½®/Secret/Secretç®€ä»‹" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.3.2">
<title data-rh="true">Secretç®€ä»‹ | æˆ‘çš„ç«™ç‚¹</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://pptfz.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://pptfz.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://pptfz.github.io/docs/äº‘åŸç”Ÿ/k8s/k8sçŸ¥è¯†ç‚¹/é…ç½®/Secret/Secretç®€ä»‹"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Secretç®€ä»‹ | æˆ‘çš„ç«™ç‚¹"><meta data-rh="true" name="description" content="Secretå®˜æ–¹æ–‡æ¡£"><meta data-rh="true" property="og:description" content="Secretå®˜æ–¹æ–‡æ¡£"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://pptfz.github.io/docs/äº‘åŸç”Ÿ/k8s/k8sçŸ¥è¯†ç‚¹/é…ç½®/Secret/Secretç®€ä»‹"><link data-rh="true" rel="alternate" href="https://pptfz.github.io/docs/äº‘åŸç”Ÿ/k8s/k8sçŸ¥è¯†ç‚¹/é…ç½®/Secret/Secretç®€ä»‹" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://pptfz.github.io/docs/äº‘åŸç”Ÿ/k8s/k8sçŸ¥è¯†ç‚¹/é…ç½®/Secret/Secretç®€ä»‹" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://SICNXLSDBZ-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="æˆ‘çš„ç«™ç‚¹" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.061a1b25.css">
<script src="/assets/js/runtime~main.11d7a557.js" defer="defer"></script>
<script src="/assets/js/main.21de94ca.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="è·³åˆ°ä¸»è¦å†…å®¹"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">è·³åˆ°ä¸»è¦å†…å®¹</a></div><div class="announcementBar_mb4j" style="background-color:pink;color:@091E42" role="banner"><div class="content_knG7 announcementBarContent_xLdY">ä¸€åè¿ç»´ï¼Œä¸¤å°ç”µè„‘ï¼Œä¸‰é¤ä¸å®šï¼Œåªä¸ºè®¾å¤‡å·¥ä½œå››å¹³å…«ç¨³ï¼Œæ‹¼å¾—äº”è„ä¿±æŸï¼Œå…­ç¥æ— ä¸»ï¼Œä»ç„¶ä¸ƒç‚¹èµ·åºŠï¼Œå…«ç‚¹å‡ºå‘ï¼Œæ™šä¸Šä¹ç‚¹ä¸è¿”ï¼Œååˆ†è¾›è‹¦ï¼<br> åå¹´è¿ç»´ï¼Œä¹è½¬åŠŸæˆï¼Œå…«é¢å¼ ç½—ï¼Œå¿™å¾—ä¸ƒçªæµè¡€ï¼Œæ¢å¾—å…­ç¥ä¸å®ï¼Œäº”ä½“æ¬ å®‰ï¼Œä»ç„¶å››å¤„å¥”æ³¢ï¼Œä¸‰æ›´ä¸çœ ï¼Œåªä¸ºä¸¤ä¸ªé“œæ¿ï¼Œä¸€ç”Ÿæ‹¼æï¼</div></div><nav aria-label="ä¸»å¯¼èˆª" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="åˆ‡æ¢å¯¼èˆªæ " aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">æˆ‘çš„ç«™ç‚¹</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">ç¬”è®°</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="åˆ‡æ¢æµ…è‰²/æš—é»‘æ¨¡å¼ï¼ˆå½“å‰ä¸ºæµ…è‰²æ¨¡å¼ï¼‰" aria-label="åˆ‡æ¢æµ…è‰²/æš—é»‘æ¨¡å¼ï¼ˆå½“å‰ä¸ºæµ…è‰²æ¨¡å¼ï¼‰" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="æœç´¢"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">æœç´¢</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="å›åˆ°é¡¶éƒ¨" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="æ–‡æ¡£ä¾§è¾¹æ " class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs">ğŸ˜‚ ğŸ˜‚  ğŸ˜‚</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/github/githubä¸‹è½½åŠ é€Ÿ">github</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/go/goåŠŸèƒ½è„šæœ¬/k8s/è·å–k8sé›†ç¾¤èµ„æºé…ç½®">go</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/idea/vscode/vscodeå¥½ç”¨çš„æ’ä»¶">idea</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/linux/big-data/Ambari/CentOS7ä¸­ç”¨Ambariå¿«é€Ÿæ­å»ºå¤§æ•°æ®å¹³å°">linux</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/macä¸“åŒº/brewå®‰è£…">macä¸“åŒº</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/python/python-other/nginx+django+uwsgiéƒ¨ç½²é¡¹ç›®">python</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/web/css/cssåŸºç¡€çŸ¥è¯†">web</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/äº‘åŸç”Ÿ/k8s/helm/helm3å®‰è£…">äº‘åŸç”Ÿ</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/äº‘åŸç”Ÿ/k8s/helm/helm3å®‰è£…">k8s</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/äº‘åŸç”Ÿ/k8s/helm/helm3å®‰è£…">helm</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/äº‘åŸç”Ÿ/k8s/k8sä¸‹è½½/ä¸‹è½½k8säºŒè¿›åˆ¶åŒ…">k8sä¸‹è½½</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/äº‘åŸç”Ÿ/k8s/k8så‘½ä»¤/kubectl topå‘½ä»¤è§£æ">k8så‘½ä»¤</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/äº‘åŸç”Ÿ/k8s/k8så®‰è£…/CentOS7.9äºŒè¿›åˆ¶å®‰è£…k8s-v1.20.15">k8så®‰è£…</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/äº‘åŸç”Ÿ/k8s/k8så¸¸ç”¨å‘½ä»¤é€ŸæŸ¥">k8så¸¸ç”¨å‘½ä»¤é€ŸæŸ¥</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/äº‘åŸç”Ÿ/k8s/k8sæ•…éšœ/ä½¿ç”¨configæ–‡ä»¶è¿æ¥k8sé›†ç¾¤é‡åˆ°çš„é—®é¢˜">k8sæ•…éšœ</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/äº‘åŸç”Ÿ/k8s/k8sçŸ¥è¯†ç‚¹/k8såŸºç¡€æ“ä½œ">k8sçŸ¥è¯†ç‚¹</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/äº‘åŸç”Ÿ/k8s/k8sçŸ¥è¯†ç‚¹/k8såŸºç¡€æ“ä½œ">k8såŸºç¡€æ“ä½œ</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/äº‘åŸç”Ÿ/k8s/k8sçŸ¥è¯†ç‚¹/kubeconfig/ä½¿ç”¨kubecmç®¡ç†å¤šé›†ç¾¤kubeconfig">kubeconfig</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/äº‘åŸç”Ÿ/k8s/k8sçŸ¥è¯†ç‚¹/pod/Downward API">pod</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/äº‘åŸç”Ÿ/k8s/k8sçŸ¥è¯†ç‚¹/å­˜å‚¨/OpenEBS">å­˜å‚¨</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/äº‘åŸç”Ÿ/k8s/k8sçŸ¥è¯†ç‚¹/å·¥ä½œè´Ÿè½½/CronJob/CronJobç®€ä»‹">å·¥ä½œè´Ÿè½½</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/äº‘åŸç”Ÿ/k8s/k8sçŸ¥è¯†ç‚¹/æ–‡ç« /k8så¼ºåˆ¶åˆ é™¤namespace">æ–‡ç« </a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/äº‘åŸç”Ÿ/k8s/k8sçŸ¥è¯†ç‚¹/æœåŠ¡ã€è´Ÿè½½å‡è¡¡å’Œè”ç½‘/ingress/ingress-nginx/ingress-nginxå®‰è£…">æœåŠ¡ã€è´Ÿè½½å‡è¡¡å’Œè”ç½‘</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/äº‘åŸç”Ÿ/k8s/k8sçŸ¥è¯†ç‚¹/è°ƒåº¦ã€æŠ¢å å’Œé©±é€/å°†Podè°ƒåº¦åˆ°æŒ‡å®šèŠ‚ç‚¹">è°ƒåº¦ã€æŠ¢å å’Œé©±é€</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/äº‘åŸç”Ÿ/k8s/k8sçŸ¥è¯†ç‚¹/é…ç½®/ConfigMap/ConfigMapç®€ä»‹">é…ç½®</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/äº‘åŸç”Ÿ/k8s/k8sçŸ¥è¯†ç‚¹/é…ç½®/ConfigMap/ConfigMapç®€ä»‹">ConfigMap</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/äº‘åŸç”Ÿ/k8s/k8sçŸ¥è¯†ç‚¹/é…ç½®/Secret/Secretç®€ä»‹">Secret</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/äº‘åŸç”Ÿ/k8s/k8sçŸ¥è¯†ç‚¹/é…ç½®/Secret/Secretç®€ä»‹">Secretç®€ä»‹</a></li></ul></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/äº‘åŸç”Ÿ/k8s/k8sè¯ä¹¦/kubeamå®‰è£…k8sç”Ÿæˆçš„è¯ä¹¦">k8sè¯ä¹¦</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/äº‘åŸç”Ÿ/k8s/å­¦ä¹ å·¥å…·/kind/kindé—®é¢˜">å­¦ä¹ å·¥å…·</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/äº‘åŸç”Ÿ/k8s/ç›‘æ§/metrics-server/metrics server">ç›‘æ§</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/äº‘åŸç”Ÿ/äº‘åŸç”Ÿå·¥å…·/harbor/harborå®‰è£…">äº‘åŸç”Ÿå·¥å…·</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/äº‘åŸç”Ÿ/å®¹å™¨/containerd/containerd é«˜çº§å‘½ä»¤è¡Œå·¥å…· nerdctl">å®¹å™¨</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/äº‘åŸç”Ÿ/ç›‘æ§/prometheus/prometheuså®‰è£…">ç›‘æ§</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/å…¶ä»–/wps/wpså†»ç»“çª—å£">å…¶ä»–</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/åšå®¢å·¥å…·/Docusaurus/Docusaurus å®‰è£…">åšå®¢å·¥å…·</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/æ“ä½œå°æŠ€å·§/linux/linuxä¸€äº›éªšæ“ä½œ">æ“ä½œå°æŠ€å·§</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/æ•°æ®åº“/mongodb/centos7å®‰è£…mongodb">æ•°æ®åº“</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/ç¿»è½¦é—®é¢˜åˆé›†/ç¿»è½¦é—®é¢˜-sshå¯†é’¥é—®é¢˜">ç¿»è½¦é—®é¢˜åˆé›†</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="é¡µé¢è·¯å¾„"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="ä¸»é¡µé¢" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">äº‘åŸç”Ÿ</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">k8s</span><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">k8sçŸ¥è¯†ç‚¹</span><meta itemprop="position" content="3"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">é…ç½®</span><meta itemprop="position" content="4"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Secret</span><meta itemprop="position" content="5"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Secretç®€ä»‹</span><meta itemprop="position" content="6"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">æœ¬é¡µæ€»è§ˆ</button></div><div class="theme-doc-markdown markdown"><h1>Secretç®€ä»‹</h1>
<p><a href="https://kubernetes.io/zh-cn/docs/concepts/configuration/secret/" target="_blank" rel="noopener noreferrer">Secretå®˜æ–¹æ–‡æ¡£</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="secretç®€ä»‹-1">Secretç®€ä»‹<a href="#secretç®€ä»‹-1" class="hash-link" aria-label="Secretç®€ä»‹çš„ç›´æ¥é“¾æ¥" title="Secretç®€ä»‹çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>Secret æ˜¯ä¸€ç§åŒ…å«å°‘é‡æ• æ„Ÿä¿¡æ¯ä¾‹å¦‚å¯†ç ã€ä»¤ç‰Œæˆ–å¯†é’¥çš„å¯¹è±¡ã€‚ è¿™æ ·çš„ä¿¡æ¯å¯èƒ½ä¼šè¢«æ”¾åœ¨ <a href="https://kubernetes.io/zh-cn/docs/concepts/workloads/pods/" target="_blank" rel="noopener noreferrer">Pod</a> è§„çº¦ä¸­æˆ–è€…é•œåƒä¸­ã€‚ ä½¿ç”¨ Secret æ„å‘³ç€ä½ ä¸éœ€è¦åœ¨åº”ç”¨ç¨‹åºä»£ç ä¸­åŒ…å«æœºå¯†æ•°æ®ã€‚</p>
<p>ç”±äºåˆ›å»º Secret å¯ä»¥ç‹¬ç«‹äºä½¿ç”¨å®ƒä»¬çš„ Podï¼Œ å› æ­¤åœ¨åˆ›å»ºã€æŸ¥çœ‹å’Œç¼–è¾‘ Pod çš„å·¥ä½œæµç¨‹ä¸­æš´éœ² Secretï¼ˆåŠå…¶æ•°æ®ï¼‰çš„é£é™©è¾ƒå°ã€‚ Kubernetes å’Œåœ¨é›†ç¾¤ä¸­è¿è¡Œçš„åº”ç”¨ç¨‹åºä¹Ÿå¯ä»¥å¯¹ Secret é‡‡å–é¢å¤–çš„é¢„é˜²æªæ–½ï¼Œ ä¾‹å¦‚é¿å…å°†æœºå¯†æ•°æ®å†™å…¥éæ˜“å¤±æ€§å­˜å‚¨ã€‚</p>
<p>Secret ç±»ä¼¼äº <a href="https://kubernetes.io/zh-cn/docs/tasks/configure-pod-container/configure-pod-configmap/" target="_blank" rel="noopener noreferrer">ConfigMap</a> ä½†ä¸“é—¨ç”¨äºä¿å­˜æœºå¯†æ•°æ®ã€‚</p>
<p>:::catutionæ³¨æ„</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒKubernetes Secret æœªåŠ å¯†åœ°å­˜å‚¨åœ¨ API æœåŠ¡å™¨çš„åº•å±‚æ•°æ®å­˜å‚¨ï¼ˆetcdï¼‰ä¸­ã€‚ ä»»ä½•æ‹¥æœ‰ API è®¿é—®æƒé™çš„äººéƒ½å¯ä»¥æ£€ç´¢æˆ–ä¿®æ”¹ Secretï¼Œä»»ä½•æœ‰æƒè®¿é—® etcd çš„äººä¹Ÿå¯ä»¥ã€‚ æ­¤å¤–ï¼Œä»»ä½•æœ‰æƒé™åœ¨å‘½åç©ºé—´ä¸­åˆ›å»º Pod çš„äººéƒ½å¯ä»¥ä½¿ç”¨è¯¥è®¿é—®æƒé™è¯»å–è¯¥å‘½åç©ºé—´ä¸­çš„ä»»ä½• Secretï¼› è¿™åŒ…æ‹¬é—´æ¥è®¿é—®ï¼Œä¾‹å¦‚åˆ›å»º Deployment çš„èƒ½åŠ›ã€‚</p>
<p>ä¸ºäº†å®‰å…¨åœ°ä½¿ç”¨ Secretï¼Œè¯·è‡³å°‘æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š</p>
<ol>
<li>ä¸º Secret <a href="https://kubernetes.io/zh-cn/docs/tasks/administer-cluster/encrypt-data/" target="_blank" rel="noopener noreferrer">å¯ç”¨é™æ€åŠ å¯†</a>ã€‚</li>
<li>ä»¥æœ€å°ç‰¹æƒè®¿é—® Secret å¹¶<a href="https://kubernetes.io/zh-cn/docs/reference/access-authn-authz/authorization/" target="_blank" rel="noopener noreferrer">å¯ç”¨æˆ–é…ç½® RBAC è§„åˆ™</a>ã€‚</li>
<li>é™åˆ¶ Secret å¯¹ç‰¹å®šå®¹å™¨çš„è®¿é—®ã€‚</li>
<li><a href="https://secrets-store-csi-driver.sigs.k8s.io/concepts.html#provider-for-the-secrets-store-csi-driver" target="_blank" rel="noopener noreferrer">è€ƒè™‘ä½¿ç”¨å¤–éƒ¨ Secret å­˜å‚¨é©±åŠ¨</a>ã€‚</li>
</ol>
<p>æœ‰å…³ç®¡ç†å’Œæå‡ Secret å®‰å…¨æ€§çš„æŒ‡å—ï¼Œè¯·å‚é˜… <a href="https://kubernetes.io/zh-cn/docs/concepts/security/secrets-good-practices" target="_blank" rel="noopener noreferrer">Kubernetes Secret è‰¯å¥½å®è·µ</a>ã€‚</p>
<p>:::</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="secretä½¿ç”¨">Secretä½¿ç”¨<a href="#secretä½¿ç”¨" class="hash-link" aria-label="Secretä½¿ç”¨çš„ç›´æ¥é“¾æ¥" title="Secretä½¿ç”¨çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>Pod å¯ä»¥ç”¨ä¸‰ç§æ–¹å¼ä¹‹ä¸€æ¥ä½¿ç”¨ Secretï¼š</p>
<ul>
<li>ä½œä¸ºæŒ‚è½½åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨ä¸Šçš„<a href="https://kubernetes.io/zh-cn/docs/concepts/storage/volumes/" target="_blank" rel="noopener noreferrer">å·</a> ä¸­çš„<a href="https://kubernetes.io/zh-cn/docs/concepts/configuration/secret/#using-secrets-as-files-from-a-pod" target="_blank" rel="noopener noreferrer">æ–‡ä»¶</a>ã€‚</li>
<li>ä½œä¸º<a href="https://kubernetes.io/zh-cn/docs/concepts/configuration/secret/#using-secrets-as-environment-variables" target="_blank" rel="noopener noreferrer">å®¹å™¨çš„ç¯å¢ƒå˜é‡</a>ã€‚</li>
<li>ç”± <a href="https://kubernetes.io/zh-cn/docs/concepts/configuration/secret/#using-imagepullsecrets" target="_blank" rel="noopener noreferrer">kubelet åœ¨ä¸º Pod æ‹‰å–é•œåƒæ—¶ä½¿ç”¨</a>ã€‚</li>
</ul>
<p>Kubernetes æ§åˆ¶é¢ä¹Ÿä½¿ç”¨ Secretï¼› ä¾‹å¦‚ï¼Œ<a href="https://kubernetes.io/zh-cn/docs/concepts/configuration/secret/#bootstrap-token-secrets" target="_blank" rel="noopener noreferrer">å¼•å¯¼ä»¤ç‰Œ Secret</a> æ˜¯ä¸€ç§å¸®åŠ©è‡ªåŠ¨åŒ–èŠ‚ç‚¹æ³¨å†Œçš„æœºåˆ¶ã€‚</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä½¿ç”¨secret">ä½¿ç”¨Secret<a href="#ä½¿ç”¨secret" class="hash-link" aria-label="ä½¿ç”¨Secretçš„ç›´æ¥é“¾æ¥" title="ä½¿ç”¨Secretçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="åˆ›å»ºsecret">åˆ›å»ºSecret<a href="#åˆ›å»ºsecret" class="hash-link" aria-label="åˆ›å»ºSecretçš„ç›´æ¥é“¾æ¥" title="åˆ›å»ºSecretçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="æ–¹å¼">æ–¹å¼<a href="#æ–¹å¼" class="hash-link" aria-label="æ–¹å¼çš„ç›´æ¥é“¾  æ¥" title="æ–¹å¼çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="æ–¹å¼ä¸€-ä½¿ç”¨-kubectl">æ–¹å¼ä¸€ <a href="https://kubernetes.io/zh-cn/docs/tasks/configmap-secret/managing-secret-using-kubectl/" target="_blank" rel="noopener noreferrer">ä½¿ç”¨ <code>kubectl</code></a><a href="#æ–¹å¼ä¸€-ä½¿ç”¨-kubectl" class="hash-link" aria-label="æ–¹å¼ä¸€-ä½¿ç”¨-kubectlçš„ç›´æ¥é“¾æ¥" title="æ–¹å¼ä¸€-ä½¿ç”¨-kubectlçš„ç›´æ¥é“¾æ¥">â€‹</a></h5>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="åˆ›å»ºsecret-1">åˆ›å»ºSecret<a href="#åˆ›å»ºsecret-1" class="hash-link" aria-label="åˆ›å»ºSecretçš„ç›´æ¥é“¾æ¥" title="åˆ›å»ºSecretçš„ç›´æ¥é“¾æ¥">â€‹</a></h6>
<p>:::tipè¯´æ˜</p>
<p><code>Secret</code> å¯¹è±¡ç”¨æ¥å­˜å‚¨æ•æ„Ÿæ•°æ®ï¼Œå¦‚ Pod ç”¨äºè®¿é—®æœåŠ¡çš„å‡­æ®ã€‚ä¾‹å¦‚ï¼Œä¸ºè®¿é—®æ•°æ®åº“ï¼Œä½ å¯èƒ½éœ€è¦ä¸€ä¸ª Secret æ¥å­˜å‚¨æ‰€éœ€çš„ç”¨æˆ·ååŠå¯†ç ã€‚</p>
<p>ä½ å¯ä»¥é€šè¿‡åœ¨å‘½ä»¤ä¸­ä¼ é€’åŸå§‹æ•°æ®ï¼Œæˆ–å°†å‡­æ®å­˜å‚¨æ–‡ä»¶ä¸­ï¼Œç„¶åå†åœ¨å‘½ä»¤è¡Œä¸­åˆ›å»º Secretã€‚ä»¥ä¸‹å‘½ä»¤ å°†åˆ›å»ºä¸€ä¸ªå­˜å‚¨ç”¨æˆ·å <code>admin</code> å’Œå¯†ç  <code>S!B\*d$zDsb=</code> çš„ Secretã€‚</p>
<p>:::</p>
<p><strong>æ–¹æ³•1	ä½¿ç”¨åŸå§‹æ•°æ®</strong></p>
<p>:::tipè¯´æ˜</p>
<p>ä½ å¿…é¡»ä½¿ç”¨å•å¼•å· <code>&#x27;&#x27;</code> è½¬ä¹‰å­—ç¬¦ä¸²ä¸­çš„ç‰¹æ®Šå­—ç¬¦ï¼Œå¦‚ <code>$</code>ã€<code>\</code>ã€<code>*</code>ã€<code>=</code>å’Œ<code>!</code> ã€‚å¦åˆ™ï¼Œä½ çš„ shell å°†ä¼šè§£æè¿™äº›å­—ç¬¦ã€‚</p>
<p>:::</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl create secret generic db-user-pass \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --from-literal=username=admin \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --from-literal=password=&#x27;S!B\*d$zDsb=&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>æ–¹æ³•2	ä½¿ç”¨æºæ–‡ä»¶</strong></p>
<p>1.å°†å‡­æ®ä¿å­˜åˆ°æ–‡ä»¶</p>
<p>:::tipè¯´æ˜</p>
<p><code>-n</code> æ ‡å¿—ç”¨æ¥ç¡®ä¿ç”Ÿæˆæ–‡ä»¶çš„æ–‡æœ«æ²¡æœ‰å¤šä½™çš„æ¢è¡Œç¬¦ã€‚è¿™å¾ˆé‡è¦ï¼Œå› ä¸ºå½“ <code>kubectl</code> è¯»å–æ–‡ä»¶å¹¶å°†å†…å®¹ç¼–ç ä¸º base64 å­—ç¬¦ä¸²æ—¶ï¼Œé¢å¤–çš„æ¢è¡Œç¬¦ä¹Ÿä¼šè¢«ç¼–ç ã€‚ ä½ ä¸éœ€è¦å¯¹æ–‡ä»¶ä¸­åŒ…å«çš„å­—ç¬¦ä¸²ä¸­çš„ç‰¹æ®Šå­—ç¬¦è¿›è¡Œè½¬ä¹‰ã€‚</p>
<p>:::</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">echo -n &#x27;admin&#x27; &gt; ./username</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">echo -n &#x27;S!B\*d$zDsb=&#x27; &gt; ./password</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>2.ä½¿ç”¨ <code>kubectl</code> å‘½ä»¤æŒ‡å®šæ–‡ä»¶è·¯å¾„</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl create secret generic db-user-pass \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --from-file=./username \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --from-file=./password</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>é»˜è®¤é”®åä¸ºæ–‡ä»¶åã€‚ä½ ä¹Ÿå¯ä»¥é€šè¿‡ <code>--from-file=[key=]source</code> è®¾ç½®é”®åï¼Œä¾‹å¦‚ï¼š</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl create secret generic db-user-pass \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --from-file=username=./username \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --from-file=password=./password</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="éªŒè¯secret">éªŒè¯Secret<a href="#éªŒè¯secret" class="hash-link" aria-label="éªŒè¯Secretçš„ç›´æ¥é“¾æ¥" title="éªŒè¯Secretçš„ç›´æ¥é“¾æ¥">â€‹</a></h6>
<p>æŸ¥çœ‹Secret</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ kubectl get secrets</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">NAME           TYPE     DATA   AGE</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">db-user-pass   Opaque   2      2m10s</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>æŸ¥çœ‹Secretç»†èŠ‚</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ kubectl describe secret db-user-pass</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Name:         db-user-pass</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Namespace:    test</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Labels:       &lt;none&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Annotations:  &lt;none&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Type:  Opaque</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Data</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">====</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">password.txt:  12 bytes</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">username.txt:  5 bytes</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="è§£ç secret">è§£ç Secret<a href="#è§£ç secret" class="hash-link" aria-label="è§£ç Secretçš„ç›´æ¥é“¾æ¥" title="è§£ç Secretçš„ç›´æ¥é“¾æ¥">â€‹</a></h6>
<p>1.æŸ¥çœ‹åˆ›å»ºçš„Secretå†…å®¹</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ kubectl get secret db-user-pass -o jsonpath=&#x27;{.data}&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{&quot;password.txt&quot;:&quot;UyFCXCpkJHpEc2I9&quot;,&quot;username.txt&quot;:&quot;YWRtaW4=&quot;}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>2.è§£ç  <code>password</code> æ•°æ®</p>
<p>:::cautionæ³¨æ„</p>
<p>è¿™æ˜¯ä¸€ä¸ªå‡ºäºæ–‡æ¡£ç¼–åˆ¶ç›®çš„çš„ç¤ºä¾‹ã€‚å®é™…ä¸Šï¼Œè¯¥æ–¹æ³•å¯èƒ½ä¼šå¯¼è‡´åŒ…å«ç¼–ç æ•°æ®çš„å‘½ä»¤å­˜å‚¨åœ¨ Shell çš„å†å²è®°å½•ä¸­ã€‚ä»»ä½•å¯ä»¥è®¿é—®ä½ çš„è®¡ç®—æœºçš„äººéƒ½å¯ä»¥æ‰¾åˆ°è¯¥å‘½ä»¤å¹¶å¯¹ Secret è¿›è¡Œè§£ç ã€‚ æ›´å¥½çš„åŠæ³•æ˜¯å°†æŸ¥çœ‹å’Œè§£ç å‘½ä»¤ä¸€åŒä½¿ç”¨ã€‚</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl get secret db-user-pass -o jsonpath=&#x27;{.data.password}&#x27; | base64 --decode</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>:::</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ echo &#x27;UyFCXCpkJHpEc2I9&#x27; | base64 --decode</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">S!B\*d$zDsb=</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="ç¼–è¾‘secret">ç¼–è¾‘Secret<a href="#ç¼–è¾‘secret" class="hash-link" aria-label="ç¼–è¾‘Secretçš„ç›´æ¥é“¾æ¥" title="ç¼–è¾‘Secretçš„ç›´æ¥é“¾æ¥">â€‹</a></h6>
<p>ä½ å¯ä»¥ç¼–è¾‘ä¸€ä¸ªç°å­˜çš„ <code>Secret</code> å¯¹è±¡ï¼Œé™¤éå®ƒæ˜¯<a href="https://kubernetes.io/zh-cn/docs/concepts/configuration/secret/#secret-immutable" target="_blank" rel="noopener noreferrer">ä¸å¯æ”¹å˜çš„</a>ã€‚ è¦æƒ³ç¼–è¾‘ä¸€ä¸ª Secretï¼Œè¯·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl edit secrets &lt;secret-name&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>è¿™å°†æ‰“å¼€é»˜è®¤ç¼–è¾‘å™¨ï¼Œå¹¶å…è®¸ä½ æ›´æ–° <code>data</code> å­—æ®µä¸­çš„ base64 ç¼–ç çš„ Secret å€¼ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#è¯·ç¼–è¾‘ä¸‹é¢çš„å¯¹è±¡ã€‚ä»¥â€œ#â€å¼€å¤´çš„è¡Œå°†è¢«å¿½ç•¥ï¼Œ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#ç©ºæ–‡ä»¶å°†ä¸­æ­¢ç¼–è¾‘ã€‚å¦‚æœåœ¨ä¿å­˜æ­¤æ–‡ä»¶æ—¶å‘ç”Ÿé”™è¯¯ï¼Œ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#åˆ™å°†é‡æ–°æ‰“å¼€è¯¥æ–‡ä»¶å¹¶æ˜¾ç¤ºç›¸å…³çš„å¤±è´¥ã€‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">apiVersion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">password</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> UyFCXCpkJHpEc2I9</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">username</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> YWRtaW4=</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">kind</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Secret</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">metadata</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">creationTimestamp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;2022-06-28T17:44:13Z&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> db</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">user</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">pass</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">namespace</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> default</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">resourceVersion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;12708504&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">uid</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> 91becd59</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">78fa</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">4c85</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">823f</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">6d44436242ac</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">type</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Opaque</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="æ–¹å¼äºŒ-ä½¿ç”¨é…ç½®æ–‡ä»¶">æ–¹å¼äºŒ <a href="https://kubernetes.io/zh-cn/docs/tasks/configmap-secret/managing-secret-using-config-file/" target="_blank" rel="noopener noreferrer">ä½¿ç”¨é…ç½®æ–‡ä»¶</a><a href="#æ–¹å¼äºŒ-ä½¿ç”¨é…ç½®æ–‡ä»¶" class="hash-link" aria-label="æ–¹å¼äºŒ-ä½¿ç”¨é…ç½®æ–‡ä»¶çš„ç›´æ¥é“¾æ¥" title="æ–¹å¼äºŒ-ä½¿ç”¨é…ç½®æ–‡ä»¶çš„ç›´æ¥é“¾æ¥">â€‹</a></h5>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="åˆ›å»ºsecret-2">åˆ›å»ºSecret<a href="#åˆ›å»ºsecret-2" class="hash-link" aria-label="åˆ›å»ºSecretçš„ç›´æ¥é“¾æ¥" title="åˆ›å»ºSecretçš„ç›´æ¥é“¾æ¥">â€‹</a></h6>
<p>:::tipè¯´æ˜</p>
<p>ä½ å¯ä»¥å…ˆç”¨ JSON æˆ– YAML æ ¼å¼åœ¨ä¸€ä¸ªæ¸…å•æ–‡ä»¶ä¸­å®šä¹‰ <code>Secret</code> å¯¹è±¡ï¼Œç„¶ååˆ›å»ºè¯¥å¯¹è±¡ã€‚ <a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.27/#secret-v1-core" target="_blank" rel="noopener noreferrer">Secret</a> èµ„æºåŒ…å« 2 ä¸ªé”®å€¼å¯¹ï¼š<code>data</code> å’Œ <code>stringData</code>ã€‚ <code>data</code> å­—æ®µç”¨æ¥å­˜å‚¨ base64 ç¼–ç çš„ä»»æ„æ•°æ®ã€‚ æä¾› <code>stringData</code> å­—æ®µæ˜¯ä¸ºäº†æ–¹ä¾¿ï¼Œå®ƒå…è®¸ Secret ä½¿ç”¨æœªç¼–ç çš„å­—ç¬¦ä¸²ã€‚ <code>data</code> å’Œ <code>stringData</code> çš„é”®å¿…é¡»ç”±å­—æ¯ã€æ•°å­—ã€<code>-</code>ã€<code>_</code> æˆ– <code>.</code> ç»„æˆã€‚</p>
<p>:::</p>
<p>ä»¥ä¸‹ç¤ºä¾‹ä½¿ç”¨ <code>data</code> å­—æ®µåœ¨ Secret ä¸­å­˜å‚¨ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼š</p>
<p>1.å°†è¿™äº›å­—ç¬¦ä¸²è½¬æ¢ä¸º base64</p>
<p>:::tipè¯´æ˜</p>
<p>Secret æ•°æ®çš„ JSON å’Œ YAML åºåˆ—åŒ–ç»“æœæ˜¯ä»¥ base64 ç¼–ç çš„ã€‚ æ¢è¡Œç¬¦åœ¨è¿™äº›å­—ç¬¦ä¸²ä¸­æ— æ•ˆï¼Œå¿…é¡»çœç•¥ã€‚ åœ¨ Darwin/macOS ä¸Šä½¿ç”¨ <code>base64</code> å·¥å…·æ—¶ï¼Œç”¨æˆ·ä¸åº”è¯¥ä½¿ç”¨ <code>-b</code> é€‰é¡¹åˆ†å‰²é•¿è¡Œã€‚ ç›¸ååœ°ï¼ŒLinux ç”¨æˆ·<strong>åº”è¯¥</strong>åœ¨ <code>base64</code> åœ°å‘½ä»¤ä¸­æ·»åŠ  <code>-w 0</code> é€‰é¡¹ï¼Œ æˆ–è€…åœ¨ <code>-w</code> é€‰é¡¹ä¸å¯ç”¨çš„æƒ…å†µä¸‹ï¼Œè¾“å…¥ <code>base64 | tr -d &#x27;\n&#x27;</code>ã€‚</p>
<p>:::</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ echo -n &#x27;admin&#x27; | base64</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">YWRtaW4=</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ echo -n &#x27;1f2d1e2e67df&#x27; | base64</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">MWYyZDFlMmU2N2Rm</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>2.åˆ›å»ºyamlæ–‡ä»¶</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">cat </span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"> secret.yaml &lt;&lt; EOF</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">apiVersion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">kind</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Secret</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">metadata</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> mysecret</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">type</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Opaque</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">username</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> YWRtaW4=</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">password</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> MWYyZDFlMmU2N2Rm</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">EOF</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>3.åˆ›å»ºsecret</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl apply -f secret.yaml </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>è‹¥è¦éªŒè¯ Secret è¢«åˆ›å»ºä»¥åŠæƒ³è¦è§£ç  Secret æ•°æ®ï¼Œ è¯·å‚é˜…<a href="https://kubernetes.io/zh-cn/docs/tasks/configmap-secret/managing-secret-using-kubectl/#verify-the-secret" target="_blank" rel="noopener noreferrer">ä½¿ç”¨ kubectl ç®¡ç† Secret</a></p>
<hr>
<p><strong>åˆ›å»ºsecretæ—¶æä¾›æœªç¼–ç çš„æ•°æ®</strong></p>
<p>å¯¹äºæŸäº›åœºæ™¯ï¼Œä½ å¯èƒ½å¸Œæœ›ä½¿ç”¨ <code>stringData</code> å­—æ®µã€‚ è¿™ä¸ªå­—æ®µå¯ä»¥å°†ä¸€ä¸ªé base64 ç¼–ç çš„å­—ç¬¦ä¸²ç›´æ¥æ”¾å…¥ Secret ä¸­ï¼Œ å½“åˆ›å»ºæˆ–æ›´æ–°è¯¥ Secret æ—¶ï¼Œæ­¤å­—æ®µå°†è¢«ç¼–ç ã€‚</p>
<p>ä¸Šè¿°ç”¨ä¾‹çš„å®é™…åœºæ™¯å¯èƒ½æ˜¯è¿™æ ·ï¼šå½“ä½ éƒ¨ç½²åº”ç”¨æ—¶ï¼Œä½¿ç”¨ Secret å­˜å‚¨é…ç½®æ–‡ä»¶ï¼Œ ä½ å¸Œæœ›åœ¨éƒ¨ç½²è¿‡ç¨‹ä¸­ï¼Œå¡«å…¥éƒ¨åˆ†å†…å®¹åˆ°è¯¥é…ç½®æ–‡ä»¶ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå¦‚æœä½ çš„åº”ç”¨ç¨‹åºä½¿ç”¨ä»¥ä¸‹é…ç½®æ–‡ä»¶:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">apiUrl</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;https://my.api.com/api/v1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">username</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&lt;user&gt;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">password</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&lt;password&gt;&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å®šä¹‰å°†å…¶å­˜å‚¨åœ¨ Secret ä¸­:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">apiVersion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">kind</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Secret</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">metadata</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> mysecret</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">type</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Opaque</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">stringData</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">config.yaml</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">|</span><span class="token scalar string" style="color:rgb(195, 232, 141)"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">    apiUrl: &quot;https://my.api.com/api/v1&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">    username: &lt;user&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">    password: &lt;password&gt;    </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å½“ä½ æ£€ç´¢ Secret æ•°æ®æ—¶ï¼Œæ­¤å‘½ä»¤å°†è¿”å›ç¼–ç çš„å€¼ï¼Œå¹¶ä¸æ˜¯ä½ åœ¨ <code>stringData</code> ä¸­æä¾›çš„çº¯æ–‡æœ¬å€¼ã€‚</p>
<p>æŸ¥çœ‹åˆ›å»ºçš„secret</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ kubectl get secret mysecret </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">o yaml</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">apiVersion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">config.yaml</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> YXBpVXJsOiAiaHR0cHM6Ly9teS5hcGkuY29tL2FwaS92MSIKdXNlcm5hbWU6IHVzZXIKcGFzc3dvcmQ6IHBhc3N3b3JkICAgIAo=</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">kind</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Secret</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">metadata</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">annotations</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">kubectl.kubernetes.io/last-applied-configuration</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">|</span><span class="token scalar string" style="color:rgb(195, 232, 141)"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">      {&quot;apiVersion&quot;:&quot;v1&quot;,&quot;kind&quot;:&quot;Secret&quot;,&quot;metadata&quot;:{&quot;annotations&quot;:{},&quot;name&quot;:&quot;mysecret&quot;,&quot;namespace&quot;:&quot;test&quot;},&quot;stringData&quot;:{&quot;config.yaml&quot;:&quot;apiUrl: \&quot;https://my.api.com/api/v1\&quot;\nusername: user\npassword: password    \n&quot;},&quot;type&quot;:&quot;Opaque&quot;}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">creationTimestamp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;2023-05-23T03:35:25Z&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> mysecret</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">namespace</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> test</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">resourceVersion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;2795292&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">uid</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> 39e81b35</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">8580</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">4f15</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">ada3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">745753b25e0f</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">type</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Opaque</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>è§£å¯†ä¸€ä¸‹</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ echo YXBpVXJsOiAiaHR0cHM6Ly9teS5hcGkuY29tL2FwaS92MSIKdXNlcm5hbWU6IHVzZXIKcGFzc3dvcmQ6IHBhc3N3b3JkICAgIAo= |base64 -d</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">apiUrl: &quot;https://my.api.com/api/v1&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">username: user</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">password: password    </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>åŒæ—¶æŒ‡å®š <code>data</code> å’Œ <code>stringData</code></strong></p>
<p>å¦‚æœä½ åœ¨ <code>data</code> å’Œ <code>stringData</code> ä¸­è®¾ç½®äº†åŒä¸€ä¸ªå­—æ®µï¼Œåˆ™ä½¿ç”¨æ¥è‡ª <code>stringData</code> ä¸­çš„å€¼ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå¦‚æœä½ å®šä¹‰ä»¥ä¸‹ Secretï¼š</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">apiVersion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">kind</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Secret</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">metadata</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> mysecret</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">type</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Opaque</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">username</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> YWRtaW4= </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># base64è§£å¯†åæ˜¯ admin</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">stringData</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">username</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> administrator</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>æ‰€åˆ›å»ºçš„ <code>Secret</code> å¯¹è±¡å¦‚ä¸‹ï¼š</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">apiVersion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">username</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> YWRtaW5pc3RyYXRvcg==</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">kind</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Secret</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">metadata</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">creationTimestamp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token datetime number" style="color:rgb(247, 140, 108)">2018-11-15T20:46:46Z</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> mysecret</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">namespace</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> default</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">resourceVersion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;7579&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">uid</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> 91460ecb</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">e917</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">11e8</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">98f2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token number" style="color:rgb(247, 140, 108)">025000000001</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">type</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Opaque</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>YWRtaW5pc3RyYXRvcg==</code> è§£ç æˆ <code>administrator</code></p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="æ–¹å¼ä¸‰-ä½¿ç”¨-kustomize-å·¥å…·">æ–¹å¼ä¸‰ <a href="https://kubernetes.io/zh-cn/docs/tasks/configmap-secret/managing-secret-using-kustomize/" target="_blank" rel="noopener noreferrer">ä½¿ç”¨ Kustomize å·¥å…·</a><a href="#æ–¹å¼ä¸‰-ä½¿ç”¨-kustomize-å·¥å…·" class="hash-link" aria-label="æ–¹å¼ä¸‰-ä½¿ç”¨-kustomize-å·¥å…·çš„ç›´æ¥é“¾æ¥" title="æ–¹å¼ä¸‰-ä½¿ç”¨-kustomize-å·¥å…·çš„ç›´æ¥é“¾æ¥">â€‹</a></h5>
<p>ä½ å¯ä»¥åœ¨ <code>kustomization.yaml</code> æ–‡ä»¶ä¸­å®šä¹‰ <code>secreteGenerator</code> å­—æ®µï¼Œ å¹¶åœ¨å®šä¹‰ä¸­å¼•ç”¨å…¶å®ƒæœ¬åœ°æ–‡ä»¶ã€<code>.env</code> æ–‡ä»¶æˆ–æ–‡å­—å€¼ç”Ÿæˆ Secretã€‚ ä¾‹å¦‚ï¼šä¸‹é¢çš„æŒ‡ä»¤ä¸ºç”¨æˆ·å <code>admin</code> å’Œå¯†ç  <code>1f2d1e2e67df</code> åˆ›å»º Kustomization æ–‡ä»¶ã€‚</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">secretGenerator:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">- name: database-creds</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  literals:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  - username=admin</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  - password=1f2d1e2e67df</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="secretåç§°çº¦æŸ">Secretåç§°çº¦æŸ<a href="#secretåç§°çº¦æŸ" class="hash-link" aria-label="Secretåç§°çº¦æŸçš„ç›´æ¥é“¾æ¥" title="Secretåç§°çº¦æŸçš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<p>Secret å¯¹è±¡çš„åç§°å¿…é¡»æ˜¯åˆæ³•çš„ <a href="https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names#dns-subdomain-names" target="_blank" rel="noopener noreferrer">DNS å­åŸŸå</a>ã€‚</p>
<p>åœ¨ä¸ºåˆ›å»º Secret ç¼–å†™é…ç½®æ–‡ä»¶æ—¶ï¼Œä½ å¯ä»¥è®¾ç½® <code>data</code> ä¸/æˆ– <code>stringData</code> å­—æ®µã€‚ <code>data</code> å’Œ <code>stringData</code> å­—æ®µéƒ½æ˜¯å¯é€‰çš„ã€‚<code>data</code> å­—æ®µä¸­æ‰€æœ‰é”®å€¼éƒ½å¿…é¡»æ˜¯ base64 ç¼–ç çš„å­—ç¬¦ä¸²ã€‚å¦‚æœä¸å¸Œæœ›æ‰§è¡Œè¿™ç§ base64 å­—ç¬¦ä¸²çš„è½¬æ¢æ“ä½œï¼Œä½ å¯ä»¥é€‰æ‹©è®¾ç½® <code>stringData</code> å­—æ®µï¼Œå…¶ä¸­å¯ä»¥ä½¿ç”¨ä»»ä½•å­—ç¬¦ä¸²ä½œä¸ºå…¶å–å€¼ã€‚</p>
<p><code>data</code> å’Œ <code>stringData</code> ä¸­çš„é”®ååªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—ã€<code>-</code>ã€<code>_</code> æˆ– <code>.</code> å­—ç¬¦ã€‚ <code>stringData</code> å­—æ®µä¸­çš„æ‰€æœ‰é”®å€¼å¯¹éƒ½ä¼šåœ¨å†…éƒ¨è¢«åˆå¹¶åˆ° <code>data</code> å­—æ®µä¸­ã€‚ å¦‚æœæŸä¸ªä¸»é”®åŒæ—¶å‡ºç°åœ¨ <code>data</code> å’Œ <code>stringData</code> å­—æ®µä¸­ï¼Œ<code>stringData</code> æ‰€æŒ‡å®šçš„é”®å€¼å…·æœ‰é«˜ä¼˜å…ˆçº§ã€‚</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="secretå¤§å°é™åˆ¶">Secretå¤§å°é™åˆ¶<a href="#secretå¤§å°é™åˆ¶" class="hash-link" aria-label="Secretå¤§å°é™åˆ¶çš„ç›´æ¥é“¾æ¥" title="Secretå¤§å°é™åˆ¶çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<p>æ¯ä¸ª Secret çš„å°ºå¯¸æœ€å¤šä¸º 1MiBã€‚æ–½åŠ è¿™ä¸€é™åˆ¶æ˜¯ä¸ºäº†é¿å…ç”¨æˆ·åˆ›å»ºéå¸¸å¤§çš„ Secretï¼Œ è¿›è€Œå¯¼è‡´ API æœåŠ¡å™¨å’Œ kubelet å†…å­˜è€—å°½ã€‚ä¸è¿‡åˆ›å»ºå¾ˆå¤šå°çš„ Secret ä¹Ÿå¯èƒ½è€—å°½å†…å­˜ã€‚ ä½ å¯ä»¥ä½¿ç”¨<a href="https://kubernetes.io/zh-cn/docs/concepts/policy/resource-quotas/" target="_blank" rel="noopener noreferrer">èµ„æºé…é¢</a>æ¥çº¦æŸæ¯ä¸ªåå­—ç©ºé—´ä¸­ Secretï¼ˆæˆ–å…¶ä»–èµ„æºï¼‰çš„ä¸ªæ•°ã€‚</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="secretçš„ç±»å‹">Secretçš„ç±»å‹<a href="#secretçš„ç±»å‹" class="hash-link" aria-label="Secretçš„ç±»å‹çš„ç›´æ¥é“¾æ¥" title="Secretçš„ç±»å‹çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>åˆ›å»º Secret æ—¶ï¼Œä½ å¯ä»¥ä½¿ç”¨ <a href="https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/secret-v1/" target="_blank" rel="noopener noreferrer">Secret</a> èµ„æºçš„ <code>type</code> å­—æ®µï¼Œæˆ–è€…ä¸å…¶ç­‰ä»·çš„ <code>kubectl</code> å‘½ä»¤è¡Œå‚æ•°ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ä¸ºå…¶è®¾ç½®ç±»å‹ã€‚ Secret ç±»å‹æœ‰åŠ©äºå¯¹ Secret æ•°æ®è¿›è¡Œç¼–ç¨‹å¤„ç†ã€‚</p>
<p>Kubernetes æä¾›è‹¥å¹²ç§å†…ç½®çš„ç±»å‹ï¼Œç”¨äºä¸€äº›å¸¸è§çš„ä½¿ç”¨åœºæ™¯ã€‚ é’ˆå¯¹è¿™äº›ç±»å‹ï¼ŒKubernetes æ‰€æ‰§è¡Œçš„åˆæ³•æ€§æ£€æŸ¥æ“ä½œä»¥åŠå¯¹å…¶æ‰€å®æ–½çš„é™åˆ¶å„ä¸ç›¸åŒã€‚</p>
<table><thead><tr><th>å†…ç½®ç±»å‹</th><th>ç”¨æ³•</th></tr></thead><tbody><tr><td><code>Opaque</code></td><td>ç”¨æˆ·å®šä¹‰çš„ä»»æ„æ•°æ®</td></tr><tr><td><code>kubernetes.io/service-account-token</code></td><td>æœåŠ¡è´¦å·ä»¤ç‰Œ</td></tr><tr><td><code>kubernetes.io/dockercfg</code></td><td><code>~/.dockercfg</code> æ–‡ä»¶çš„åºåˆ—åŒ–å½¢å¼</td></tr><tr><td><code>kubernetes.io/dockerconfigjson</code></td><td><code>~/.docker/config.json</code> æ–‡ä»¶çš„åºåˆ—åŒ–å½¢å¼</td></tr><tr><td><code>kubernetes.io/basic-auth</code></td><td>ç”¨äºåŸºæœ¬èº«ä»½è®¤è¯çš„å‡­æ®</td></tr><tr><td><code>kubernetes.io/ssh-auth</code></td><td>ç”¨äº SSH èº«ä»½è®¤è¯çš„å‡­æ®</td></tr><tr><td><code>kubernetes.io/tls</code></td><td>ç”¨äº TLS å®¢æˆ·ç«¯æˆ–è€…æœåŠ¡å™¨ç«¯çš„æ•°æ®</td></tr><tr><td><code>bootstrap.kubernetes.io/token</code></td><td>å¯åŠ¨å¼•å¯¼ä»¤ç‰Œæ•°æ®</td></tr></tbody></table>
<p>é€šè¿‡ä¸º Secret å¯¹è±¡çš„ <code>type</code> å­—æ®µè®¾ç½®ä¸€ä¸ªéç©ºçš„å­—ç¬¦ä¸²å€¼ï¼Œä½ ä¹Ÿå¯ä»¥å®šä¹‰å¹¶ä½¿ç”¨è‡ªå·± Secret ç±»å‹ï¼ˆå¦‚æœ <code>type</code> å€¼ä¸ºç©ºå­—ç¬¦ä¸²ï¼Œåˆ™è¢«è§†ä¸º <code>Opaque</code> ç±»å‹ï¼‰ã€‚</p>
<p>Kubernetes å¹¶ä¸å¯¹ç±»å‹çš„åç§°ä½œä»»ä½•é™åˆ¶ã€‚ä¸è¿‡ï¼Œå¦‚æœä½ è¦ä½¿ç”¨å†…ç½®ç±»å‹ä¹‹ä¸€ï¼Œ åˆ™ä½ å¿…é¡»æ»¡è¶³ä¸ºè¯¥ç±»å‹æ‰€å®šä¹‰çš„æ‰€æœ‰è¦æ±‚ã€‚</p>
<p>å¦‚æœä½ è¦å®šä¹‰ä¸€ç§å…¬å¼€ä½¿ç”¨çš„ Secret ç±»å‹ï¼Œè¯·éµå®ˆ Secret ç±»å‹çš„çº¦å®šå’Œç»“æ„ï¼Œ åœ¨ç±»å‹åç­¾åæ·»åŠ åŸŸåï¼Œå¹¶ç”¨ <code>/</code> éš”å¼€ã€‚ ä¾‹å¦‚ï¼š<code>cloud-hosting.example.net/cloud-api-credentials</code>ã€‚</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä¸å¯æ›´æ”¹çš„secret">ä¸å¯æ›´æ”¹çš„Secret<a href="#ä¸å¯æ›´æ”¹çš„secret" class="hash-link" aria-label="ä¸å¯æ›´æ”¹çš„Secretçš„ç›´æ¥é“¾æ¥" title="ä¸å¯æ›´æ”¹çš„Secretçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p><strong>ç‰¹æ€§çŠ¶æ€ï¼š</strong> <code>Kubernetes v1.21 [stable]</code></p>
<p>Kubernetes å…è®¸ä½ å°†ç‰¹å®šçš„ Secretï¼ˆå’Œ ConfigMapï¼‰æ ‡è®°ä¸º <strong>ä¸å¯æ›´æ”¹ï¼ˆImmutableï¼‰</strong>ã€‚ ç¦æ­¢æ›´æ”¹ç°æœ‰ Secret çš„æ•°æ®æœ‰ä¸‹åˆ—å¥½å¤„ï¼š</p>
<ul>
<li>é˜²æ­¢æ„å¤–ï¼ˆæˆ–éé¢„æœŸçš„ï¼‰æ›´æ–°å¯¼è‡´åº”ç”¨ç¨‹åºä¸­æ–­</li>
<li>ï¼ˆå¯¹äºå¤§é‡ä½¿ç”¨ Secret çš„é›†ç¾¤è€Œè¨€ï¼Œè‡³å°‘æ•°ä¸‡ä¸ªä¸åŒçš„ Secret ä¾› Pod æŒ‚è½½ï¼‰ï¼Œ é€šè¿‡å°† Secret æ ‡è®°ä¸ºä¸å¯å˜ï¼Œå¯ä»¥æå¤§é™ä½ kube-apiserver çš„è´Ÿè½½ï¼Œæå‡é›†ç¾¤æ€§èƒ½ã€‚ kubelet ä¸éœ€è¦ç›‘è§†é‚£äº›è¢«æ ‡è®°ä¸ºä¸å¯æ›´æ”¹çš„ Secretã€‚</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="å°†-secret-æ ‡è®°ä¸ºä¸å¯æ›´æ”¹">å°† Secret æ ‡è®°ä¸ºä¸å¯æ›´æ”¹<a href="#å°†-secret-æ ‡è®°ä¸ºä¸å¯æ›´æ”¹" class="hash-link" aria-label="å°† Secret æ ‡è®°ä¸ºä¸å¯æ›´æ”¹çš„ç›´æ¥é“¾æ¥" title="å°† Secret æ ‡è®°ä¸ºä¸å¯æ›´æ”¹çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>ä½ å¯ä»¥é€šè¿‡å°† Secret çš„ <code>immutable</code> å­—æ®µè®¾ç½®ä¸º <code>true</code> åˆ›å»ºä¸å¯æ›´æ”¹çš„ Secretã€‚ ä¾‹å¦‚ï¼š</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">apiVersion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">kind</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Secret</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">metadata</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">immutable</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ä½ ä¹Ÿå¯ä»¥æ›´æ”¹ç°æœ‰çš„ Secretï¼Œä»¤å…¶ä¸å¯æ›´æ”¹ã€‚</p>
<p><strong>è¯´æ˜ï¼š</strong></p>
<p>ä¸€æ—¦ä¸€ä¸ª Secret æˆ– ConfigMap è¢«æ ‡è®°ä¸ºä¸å¯æ›´æ”¹ï¼Œæ’¤é”€æ­¤æ“ä½œæˆ–è€…æ›´æ”¹ <code>data</code> å­—æ®µçš„å†…å®¹éƒ½æ˜¯ <strong>ä¸</strong> å¯èƒ½çš„ã€‚ åªèƒ½åˆ é™¤å¹¶é‡æ–°åˆ›å»ºè¿™ä¸ª Secretã€‚ç°æœ‰çš„ Pod å°†ç»´æŒå¯¹å·²åˆ é™¤ Secret çš„æŒ‚è½½ç‚¹ -- å»ºè®®é‡æ–°åˆ›å»ºè¿™äº› Podã€‚</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="æ–‡ä»¶é€‰é¡¹å¡"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/äº‘åŸç”Ÿ/k8s/k8sçŸ¥è¯†ç‚¹/é…ç½®/ConfigMap/é…ç½® Pod ä½¿ç”¨ ConfigMap"><div class="pagination-nav__sublabel">ä¸Šä¸€é¡µ</div><div class="pagination-nav__label">é…ç½® Pod ä½¿ç”¨ ConfigMap</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/äº‘åŸç”Ÿ/k8s/k8sè¯ä¹¦/kubeamå®‰è£…k8sç”Ÿæˆçš„è¯ä¹¦"><div class="pagination-nav__sublabel">ä¸‹ä¸€é¡µ</div><div class="pagination-nav__label">kubeamå®‰è£…k8sç”Ÿæˆçš„è¯ä¹¦</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#secretç®€ä»‹-1" class="table-of-contents__link toc-highlight">Secretç®€ä»‹</a></li><li><a href="#secretä½¿ç”¨" class="table-of-contents__link toc-highlight">Secretä½¿ç”¨</a></li><li><a href="#ä½¿ç”¨secret" class="table-of-contents__link toc-highlight">ä½¿ç”¨Secret</a><ul><li><a href="#åˆ›å»ºsecret" class="table-of-contents__link toc-highlight">åˆ›å»ºSecret</a><ul><li><a href="#æ–¹å¼" class="table-of-contents__link toc-highlight">æ–¹å¼</a><ul><li><a href="#æ–¹å¼ä¸€-ä½¿ç”¨-kubectl" class="table-of-contents__link toc-highlight">æ–¹å¼ä¸€ ä½¿ç”¨ <code>kubectl</code></a><ul><li><a href="#åˆ›å»ºsecret-1" class="table-of-contents__link toc-highlight">åˆ›å»ºSecret</a></li><li><a href="#éªŒè¯secret" class="table-of-contents__link toc-highlight">éªŒè¯Secret</a></li><li><a href="#è§£ç secret" class="table-of-contents__link toc-highlight">è§£ç Secret</a></li><li><a href="#ç¼–è¾‘secret" class="table-of-contents__link toc-highlight">ç¼–è¾‘Secret</a></li></ul></li><li><a href="#æ–¹å¼äºŒ-ä½¿ç”¨é…ç½®æ–‡ä»¶" class="table-of-contents__link toc-highlight">æ–¹å¼äºŒ ä½¿ç”¨é…ç½®æ–‡ä»¶</a><ul><li><a href="#åˆ›å»ºsecret-2" class="table-of-contents__link toc-highlight">åˆ›å»ºSecret</a></li></ul></li><li><a href="#æ–¹å¼ä¸‰-ä½¿ç”¨-kustomize-å·¥å…·" class="table-of-contents__link toc-highlight">æ–¹å¼ä¸‰ ä½¿ç”¨ Kustomize å·¥å…·</a></li></ul></li><li><a href="#secretåç§°çº¦æŸ" class="table-of-contents__link toc-highlight">Secretåç§°çº¦æŸ</a></li><li><a href="#secretå¤§å°é™åˆ¶" class="table-of-contents__link toc-highlight">Secretå¤§å°é™åˆ¶</a></li></ul></li></ul></li><li><a href="#secretçš„ç±»å‹" class="table-of-contents__link toc-highlight">Secretçš„ç±»å‹</a></li><li><a href="#ä¸å¯æ›´æ”¹çš„secret" class="table-of-contents__link toc-highlight">ä¸å¯æ›´æ”¹çš„Secret</a><ul><li><a href="#å°†-secret-æ ‡è®°ä¸ºä¸å¯æ›´æ”¹" class="table-of-contents__link toc-highlight">å°† Secret æ ‡è®°ä¸ºä¸å¯æ›´æ”¹</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs">ç¬”è®°</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2024 æ³¡æ³¡åè‚¥çš‚o</div></div></div></footer></div>
</body>
</html>