# ä½¿ç”¨kubecmç®¡ç†å¤šé›†ç¾¤kubeconfig

[kubecm github](https://github.com/sunny0826/kubecm)

[kubecmå®˜ç½‘](https://kubecm.cloud/)



## ç®€ä»‹

å¦‚æœéœ€è¦ä½¿ç”¨ Kubectl ç®¡ç†å¤šä¸ªé›†ç¾¤ï¼Œé€šå¸¸åšæ³•æ˜¯æå– Kubeconfig ä¸­å„ä¸ªå­—æ®µçš„å†…å®¹ï¼Œå°†å…¶åˆå¹¶åˆ° Kubectl æ‰€åœ¨è®¾å¤‡çš„ Kubeconfig æ–‡ä»¶ä¸­ï¼Œä½†è¯¥æ–¹å¼æ“ä½œç¹çä¸”å®¹æ˜“å‡ºé”™ã€‚  

å€ŸåŠ© kubecm å·¥å…·ï¼Œå¯ä»¥æ›´ç®€å•é«˜æ•ˆçš„å°†å¤šä¸ªé›†ç¾¤è®¿é—®å‡­è¯åˆå¹¶æ·»åŠ åˆ° kubeconfig ä¸­



## å®‰è£…

ä¸‹è½½ [äºŒè¿›åˆ¶](https://github.com/sunny0826/kubecm/releases) æ–‡ä»¶

```sh
export VERSION=0.27.1
wget https://github.com/sunny0826/kubecm/releases/download/v${VERSION}/kubecm_v${VERSION}_Linux_x86_64.tar.gz
```



è§£å‹ç¼©

```sh
tar xf kubecm_v${VERSION}_Linux_x86_64.tar.gz 
```



ç§»åŠ¨äºŒè¿›åˆ¶æ–‡ä»¶

```sh
mv kubecm /usr/local/bin
```



## ä½¿ç”¨

### é…ç½®å‘½ä»¤è‡ªåŠ¨è¡¥å…¨

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

<Tabs>
  <TabItem value="apple" label="Apple" default>
    This is an apple ğŸ
  </TabItem>
  <TabItem value="orange" label="Orange">
    This is an orange ğŸŠ
  </TabItem>
  <TabItem value="banana" label="Banana">
    This is a banana ğŸŒ
  </TabItem>
</Tabs>





### æ·»åŠ é›†ç¾¤

:::cautionæ³¨æ„

åœ¨æ‰§è¡Œæ·»åŠ æ“ä½œçš„æ—¶å€™ï¼Œ`.kube` ç›®å½•ä¸‹ `config` æ–‡ä»¶å¿…é¡»å­˜åœ¨ï¼Œæ–‡ä»¶å†…å®¹å¯ä»¥ä¸ºç©º

:::

æ·»åŠ ç¬¬ä¸€ä¸ªé›†ç¾¤

```sh
$ kubecm add -cf prod-config --context-name prod
Add Context: prod 
ã€Œprod-configã€ write successful!
+------------+---------+---------------+-----------------------+-----------------------------+--------------+
|   CURRENT  |   NAME  |    CLUSTER    |          USER         |            SERVER           |   Namespace  |
+============+=========+===============+=======================+=============================+==============+
|      *     |   prod  |   kubernetes  |   299665908796239593  |   https://10.251.8.25:6443  |    default   |
+------------+---------+---------------+-----------------------+-----------------------------+--------------+
```



å‚æ•°è¯´æ˜

| å‚æ•°           | è¯´æ˜                    |
| -------------- | ----------------------- |
| -c             | è¦†ç›–æœ¬åœ°kubecconfigæ–‡ä»¶ |
| -f             | æŒ‡å®šè¦åˆå¹¶çš„æ–‡ä»¶        |
| --context-name | æŒ‡å®šä¸Šä¸‹æ–‡åç§°          |





æ·»åŠ ç¬¬äºŒä¸ªé›†ç¾¤

```sh
$ kubecm add -cf pre-config --context-name pre  
Add Context: pre 
ã€Œpre-configã€ write successful!
+------------+---------+--------------------------+----------------------------------+------------------------------+--------------+
|   CURRENT  |   NAME  |          CLUSTER         |               USER               |            SERVER            |   Namespace  |
+============+=========+==========================+==================================+==============================+==============+
|            |   pre   |   kubernetes-695252f699  |   299665608709939513-695252f699  |   https://10.251.8.25:6443  |    default   |
+------------+---------+--------------------------+----------------------------------+------------------------------+--------------+
|      *     |   prod  |        kubernetes        |       299665608709939513        |   https://10.250.8.20:6443   |    default   |
+------------+---------+--------------------------+----------------------------------+------------------------------+--------------+
```





### æŸ¥çœ‹é›†ç¾¤

```sh
$ kubecm ls
+------------+---------+--------------------------+----------------------------------+------------------------------+--------------+
|   CURRENT  |   NAME  |          CLUSTER         |               USER               |            SERVER            |   Namespace  |
+============+=========+==========================+==================================+==============================+==============+
|            |   pre   |   kubernetes-695252f699  |   299665608709939513-695252f699  |   https://10.251.8.25:6443  |    default   |
+------------+---------+--------------------------+----------------------------------+------------------------------+--------------+
|      *     |   prod  |        kubernetes        |        299665608709939513        |   https://10.250.8.20:6443   |    default   |
+------------+---------+--------------------------+----------------------------------+------------------------------+--------------+

Cluster check succeeded!
Kubernetes version v1.20.11-aliyun.1
Kubernetes master is running at https://10.250.8.20:6443
[Summary] Namespace: 10 Node: 2 Pod: 52 
```



### åˆ‡æ¢é›†ç¾¤

:::tipè¯´æ˜

æ‰§è¡Œ `kubecm switch`  å¯ä»¥è¿›è¡Œäº¤äº’å¼é€‰æ‹©

:::

åˆ‡æ¢é›†ç¾¤åˆ°pre

```sh
kubecm switch pre
```



### åˆ é™¤é›†ç¾¤

```sh
$ kubecm delete qa
Context Delete:ã€Œqaã€
ã€Œ/Users/pptfz/.kube/configã€ write successful!
+------------+---------+--------------------------+----------------------------------+------------------------------+--------------+
|   CURRENT  |   NAME  |          CLUSTER         |               USER               |            SERVER            |   Namespace  |
+============+=========+==========================+==================================+==============================+==============+
|            |   pre   |   kubernetes-695252f699  |   299665608709939513-695252f699  |   https://10.251.8.25:6443  |    default   |
+------------+---------+--------------------------+----------------------------------+------------------------------+--------------+
|            |   prod  |        kubernetes        |        299665608709939513        |   https://10.250.8.20:6443   |    default   |
+------------+---------+--------------------------+----------------------------------+------------------------------+--------------+
```



